ReadAllTextAsync(String, Encoding, CancellationToken)
Исходный код:
File.cs
Асинхронно открывает текстовый файл, считывает весь текст в файле с указанным кодировкой, а затем закрывает файл.

C#
public static System.Threading.Tasks.Task<string> ReadAllTextAsync(string path, System.Text.Encoding encoding, System.Threading.CancellationToken cancellationToken = default);
Параметры
path
String
Файл, который нужно открыть для чтения.

encoding
Encoding
Кодировка, примененная к содержимому файла.

cancellationToken
CancellationToken
Маркер для отслеживания запросов на отмену. Значение по умолчанию — None.

Возвращаемое значение
Task<String>
Задача, представляющая асинхронную операцию чтения, которая упаковывает строку, содержащую весь текст в файле.

Исключения
OperationCanceledException
Маркер отмены был отменен. Это исключение хранится в возвращаемой задаче.

Комментарии
Этот метод сохраняет в задаче все исключения без использования, которые может вызывать синхронный аналог метода. Если исключение хранится в возвращаемой задаче, это исключение будет создано при ожидании задачи. Исключения использования, такие как ArgumentException, по-прежнему создаются синхронно. Сведения о сохраненных исключениях см. в исключениях, создаваемых ReadAllText(String, Encoding).

Применяется к
.NET 10 и другие версии
 Совместная работа с нами на GitHub
Источник этого содержимого можно найти на GitHub, где также можно создавать и просматривать проблемы и запросы на вытягивание. Дополнительные сведения см. в нашем руководстве для участников.

Отзыв о .NET

.NET — это проект с открытым исходным кодом. Выберите ссылку, чтобы оставить отзыв:

 Открыть проблему с документацией
 Отзыв о продукте